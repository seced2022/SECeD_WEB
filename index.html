<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SECeD</title>

  <!-- Fuente tipo matriz LED (opcional pero recomendado) -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=DotGothic16&display=swap">

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      background: #0b1120;
      color: #e5e7eb;
    }

    /* HEADER */

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 24px;
      background: #020617;
      color: #ffffff;
      border-bottom: 1px solid #1e293b;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .logo img {
      height: 40px;
    }

    .logo span {
      font-size: 1.2rem;
      font-weight: 600;
      letter-spacing: 0.04em;
    }

    nav a {
      margin-left: 16px;
      color: #9ca3af;
      text-decoration: none;
      font-size: 0.95rem;
    }

    nav a:hover {
      color: #ffffff;
    }

    /* CONTENIDO PRINCIPAL */

    main {
      padding: 24px;
      max-width: 1100px;
      margin: 0 auto;
    }

    /* ZONA DE LA GRÁFICA */

    .grafica-container {
      position: relative;
      margin: 0 auto;
      max-width: 900px;
      background: radial-gradient(circle at top, #1f2937, #020617);
      border-radius: 24px;
      padding: 16px 16px 32px;
      box-shadow: 0 25px 50px rgba(15, 23, 42, 0.8);
      border: 1px solid #1f2937;
    }

    .grafica-title {
      text-align: left;
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: #9ca3af;
      margin-bottom: 12px;
    }

    .grafica-wrapper {
      width: 100%;
    }

    .diagram-svg {
      width: 100%;
      height: auto;
      display: block;
    }

    /* PANEL LED ENCIMA DE LA GRÁFICA (ESTILO MATRIZ RGB) */

    .dept-led {
      width: 100%;
      max-width: 720px;
      margin: 0 auto 14px auto;
      padding: 10px 18px;
      border-radius: 14px;
      background-color: #020617;
      background-image: radial-gradient(circle, rgba(148, 163, 184, 0.24) 1px, transparent 1px);
      background-size: 6px 6px;
      border: 1px solid #0f172a;
      box-shadow:
        0 0 18px rgba(15, 23, 42, 0.9),
        0 0 40px rgba(15, 23, 42, 0.9);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* Texto estilo matriz de puntos LED */
    .dept-led-text {
      font-family: "DotGothic16", monospace;
      font-size: 1.05rem;
      letter-spacing: 0.28em;
      text-transform: uppercase;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;

      /* patrón de puntos de color (como leds encendidos) */
      background-image: radial-gradient(circle, #22c55e 60%, transparent 61%);
      background-size: 6px 6px;
      background-repeat: repeat;

      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;

      /* halo de luz alrededor de los puntos */
      text-shadow:
        0 0 3px rgba(34, 197, 94, 0.7),
        0 0 6px rgba(34, 197, 94, 0.5),
        0 0 10px rgba(52, 211, 153, 0.4);

      animation: ledGlow 2.4s ease-in-out infinite;
    }

    /* ligero parpadeo del brillo para simular leds vivos */
    @keyframes ledGlow {
      0%, 100% {
        text-shadow:
          0 0 3px rgba(34, 197, 94, 0.7),
          0 0 6px rgba(34, 197, 94, 0.5),
          0 0 10px rgba(52, 211, 153, 0.4);
      }
      50% {
        text-shadow:
          0 0 5px rgba(34, 197, 94, 1),
          0 0 10px rgba(34, 197, 94, 0.9),
          0 0 16px rgba(52, 211, 153, 0.8);
      }
    }

    /* CÍRCULOS SVG (SIN MOVERSE, SOLO CAMBIO DE COLOR) */

    .dept-group {
      cursor: pointer;
    }

    .dept-circle {
      fill: rgba(15, 23, 42, 0.96);
      stroke: #38bdf8;
      stroke-width: 10;
      filter: drop-shadow(0 8px 18px rgba(8, 47, 73, 0.9));
      transition: fill 0.2s ease, stroke 0.2s ease, filter 0.2s ease;
    }

    .dept-group:hover .dept-circle,
    .dept-group.dept-active .dept-circle {
      fill: rgba(15, 118, 230, 0.95);
      stroke: #f1f5f9;
      filter: drop-shadow(0 14px 30px rgba(56, 189, 248, 0.9));
    }

    .dept-text {
      fill: #f9fafb;
      font-size: 90px;
      font-weight: 700;
      text-anchor: middle;
      dominant-baseline: middle;
      pointer-events: none;
    }

    /* PANEL DEL DEPARTAMENTO (SIEMPRE VISIBLE PERO VACÍO HASTA QUE SE ELIJA) */

    .dept-panel {
      margin: 32px auto 0;
      max-width: 900px;
      background: #020617;
      border-radius: 16px;
      box-shadow: 0 10px 25px rgba(15, 23, 42, 0.8);
      border: 1px solid #1e293b;
      padding: 20px 24px;
      /* siempre visible, contenido se rellena por JS */
    }

    .dept-panel-title {
      font-size: 1.4rem;
      margin-bottom: 8px;
      text-align: center;
      min-height: 1.4rem; /* reserva algo de espacio aunque esté vacío */
    }

    .dept-panel-text {
      color: #9ca3af;
      font-size: 0.95rem;
      text-align: center;
      min-height: 1.2rem; /* un poco de altura aunque no haya texto */
    }
  </style>
</head>
<body>
  <!-- HEADER -->
  <header>
    <div class="logo">
      <img src="LOGOS SILU GRISES (3).png" alt="SECeD" />
      <span></span>
    </div>
    <nav>
      <a href="#inicio">Inicio</a>
      <a href="#departamentos">Usuario</a>
      <a href="#contacto">Contacto</a>
    </nav>
  </header>

  <main>
    <h1 id="inicio"></h1>

    <!-- ZONA LED + GRÁFICA -->
    <div id="departamentos" class="grafica-container">
      <div class="grafica-title"></div>

      <!-- PANEL LED ENCIMA -->
      <div class="dept-led">
        <div id="dept-led-text" class="dept-led-text">
          I + D + i
        </div>
      </div>

      <!-- SVG: IMAGEN + CÍRCULOS -->
      <div class="grafica-wrapper">
        <svg
          class="diagram-svg"
          viewBox="0 0 2048 1447"
          xmlns="http://www.w3.org/2000/svg"
        >
          <image href="SILU.png" x="0" y="0" width="2048" height="1447" />

          <g class="dept-group" data-dept-target="dep1">
            <circle class="dept-circle" cx="410" cy="800" r="90" />
            <text class="dept-text" x="410" y="800">S</text>
          </g>

          <g class="dept-group" data-dept-target="dep2">
            <circle class="dept-circle" cx="838" cy="560" r="90" />
            <text class="dept-text" x="838" y="560">E</text>
          </g>

          <g class="dept-group" data-dept-target="dep3">
            <circle class="dept-circle" cx="1292" cy="590" r="90" />
            <text class="dept-text" x="1292" y="590">C</text>
          </g>

          <g class="dept-group" data-dept-target="dep4">
            <circle class="dept-circle" cx="1554" cy="715" r="90" />
            <text class="dept-text" x="1554" y="715">e</text>
          </g>

          <g class="dept-group" data-dept-target="dep5">
            <circle class="dept-circle" cx="1853" cy="557" r="90" />
            <text class="dept-text" x="1853" y="557">D</text>
          </g>
        </svg>
      </div>
    </div>

    <!-- PANEL BAJO LA GRÁFICA (VACÍO HASTA QUE SE SELECCIONE UN DEPARTAMENTO) -->
    <div id="dept-panel" class="dept-panel">
      <div id="dept-panel-title" class="dept-panel-title"></div>
      <div id="dept-panel-text" class="dept-panel-text"></div>
    </div>

  </main>

  <!-- JAVASCRIPT -->
  <script>
    const deptInfo = {
      dep1: { titulo: "Seguridad" },
      dep2: { titulo: "Equipos de Cronometraje" },
      dep3: { titulo: "Comunicaciones" },
      dep4: { titulo: "Equipo Técnico" },
      dep5: { titulo: "Domótica y Monitorización" }
    };

    const defaultLedMsg = "I + D + i";

    const deptGroups = document.querySelectorAll(".dept-group");
    const panelTitle = document.getElementById("dept-panel-title");
    const panelText = document.getElementById("dept-panel-text");
    const ledText = document.getElementById("dept-led-text");

    let activeDept = null;

    function setLedMessage(msg) {
      ledText.textContent = msg;
    }

    function updatePanel(id) {
      const info = deptInfo[id];
      if (!info) return;
      panelTitle.textContent = info.titulo;
      panelText.textContent =
        "Panel de " + info.titulo + ". Aquí añadiremos fotos, productos y descripciones.";
    }

    function clearPanel() {
      panelTitle.textContent = "";
      panelText.textContent = "";
    }

    function abrirDepartamento(id) {
      const info = deptInfo[id];
      if (!info) return;

      activeDept = id;

      updatePanel(id);
      setLedMessage(info.titulo);

      deptGroups.forEach(g => {
        g.classList.toggle("dept-active", g.getAttribute("data-dept-target") === id);
      });

      // En móvil no hay hover, así que ayuda hacer scroll al panel:
      document.getElementById("dept-panel").scrollIntoView({
        behavior: "smooth",
        block: "start"
      });
    }

    deptGroups.forEach(g => {
      const id = g.getAttribute("data-dept-target");

      // Click: fija el departamento activo
      g.addEventListener("click", e => {
        e.preventDefault();
        abrirDepartamento(id);
      });

      // Hover: solo muestra mientras se está encima
      g.addEventListener("mouseenter", () => {
        const info = deptInfo[id];
        if (!info) return;
        setLedMessage(info.titulo);
        updatePanel(id);
      });

      g.addEventListener("mouseleave", () => {
        if (activeDept && deptInfo[activeDept]) {
          // Si hay uno activo por click, volver a ese
          setLedMessage(deptInfo[activeDept].titulo);
          updatePanel(activeDept);
        } else {
          // Si no hay ninguno activo, panel vacío y LED por defecto
          setLedMessage(defaultLedMsg);
          clearPanel();
        }
      });
    });
  </script>
</body>
</html>
